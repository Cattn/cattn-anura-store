import{n as Y,i as q,y as Re,z as ee,e as oe,t as k}from"./index.CVeMKCBb.js";import{Q as me}from"./scheduler.CwS1YEG4.js";import{r as ue,w as se}from"./index.CWS3QIuj.js";function Ae(r){return r[r.length-1]}function mt(r,e){return r.map((t,n)=>r[(e+n)%r.length])}function ye(r){return new Promise(e=>setTimeout(e,r))}const ge=()=>typeof window<"u";function Ce(){const r=navigator.userAgentData;return(r==null?void 0:r.platform)??navigator.platform}const we=r=>ge()&&r.test(Ce().toLowerCase()),ke=()=>ge()&&!!navigator.maxTouchPoints,xe=()=>we(/^mac/)&&!ke(),Le=()=>we(/mac|iphone|ipad|ipod/i),Me=()=>Le()&&!xe(),Q="data-melt-scroll-lock";function ce(r,e){if(!r)return;const t=r.style.cssText;return Object.assign(r.style,e),()=>{r.style.cssText=t}}function Be(r,e,t){if(!r)return;const n=r.style.getPropertyValue(e);return r.style.setProperty(e,t),()=>{n?r.style.setProperty(e,n):r.style.removeProperty(e)}}function Ke(r){const e=r.getBoundingClientRect().left;return Math.round(e)+r.scrollLeft?"paddingLeft":"paddingRight"}function yt(r){const e=r??document,t=e.defaultView??window,{documentElement:n,body:u}=e;if(u.hasAttribute(Q))return Y;u.setAttribute(Q,"");const a=t.innerWidth-n.clientWidth,f=()=>Be(n,"--scrollbar-width",`${a}px`),l=Ke(n),d=t.getComputedStyle(u)[l],y=()=>ce(u,{overflow:"hidden",[l]:`calc(${d} + ${a}px)`}),v=()=>{const{scrollX:E,scrollY:h,visualViewport:T}=t,S=(T==null?void 0:T.offsetLeft)??0,D=(T==null?void 0:T.offsetTop)??0,I=ce(u,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(D))}px`,left:`${-(E-Math.floor(S))}px`,right:"0",[l]:`calc(${d} + ${a}px)`});return()=>{I==null||I(),t.scrollTo(E,h)}},w=[f(),Me()?v():y()];return()=>{w.forEach(E=>E==null?void 0:E()),u.removeAttribute(Q)}}function je(r){let e=r.parentElement;for(;q(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function gt(r,e){return e!==void 0?e:je(r)==="body"?document.body:null}async function wt(r){const{prop:e,defaultEl:t}=r;if(await Promise.all([ye(1),me]),e===void 0){t==null||t.focus();return}const n=Re(e)?e(t):e;if(typeof n=="string"){const u=document.querySelector(n);if(!q(u))return;u.focus()}else q(n)&&n.focus()}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Te=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],G=Te.join(","),Ne=typeof Element>"u",C=Ne?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,V=!Ne&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},W=function r(e,t){var n;t===void 0&&(t=!0);var u=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=u===""||u==="true",a=s||t&&e&&r(e.parentNode);return a},Ue=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},Ee=function(e,t,n){if(W(e))return[];var u=Array.prototype.slice.apply(e.querySelectorAll(G));return t&&C.call(e,G)&&u.unshift(e),u=u.filter(n),u},Fe=function r(e,t,n){for(var u=[],s=Array.from(e);s.length;){var a=s.shift();if(!W(a,!1))if(a.tagName==="SLOT"){var f=a.assignedElements(),l=f.length?f:a.children,d=r(l,!0,n);n.flatten?u.push.apply(u,d):u.push({scopeParent:a,candidates:d})}else{var y=C.call(a,G);y&&n.filter(a)&&(t||!e.includes(a))&&u.push(a);var v=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),w=!W(v,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(v&&w){var E=r(v===!0?a.children:v.children,!0,n);n.flatten?u.push.apply(u,E):u.push({scopeParent:a,candidates:E})}else s.unshift.apply(s,a.children)}}return u},Pe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},A=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ue(e))&&!Pe(e)?0:e.tabIndex},$e=function(e,t){var n=A(e);return n<0&&t&&!Pe(e)?0:n},qe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Se=function(e){return e.tagName==="INPUT"},Ge=function(e){return Se(e)&&e.type==="hidden"},Ve=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},We=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Xe=function(e){if(!e.name)return!0;var t=e.form||V(e),n=function(f){return t.querySelectorAll('input[type="radio"][name="'+f+'"]')},u;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")u=n(window.CSS.escape(e.name));else try{u=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=We(u,e.form);return!s||s===e},Ye=function(e){return Se(e)&&e.type==="radio"},ze=function(e){return Ye(e)&&!Xe(e)},He=function(e){var t,n=e&&V(e),u=(t=n)===null||t===void 0?void 0:t.host,s=!1;if(n&&n!==e){var a,f,l;for(s=!!((a=u)!==null&&a!==void 0&&(f=a.ownerDocument)!==null&&f!==void 0&&f.contains(u)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&u;){var d,y,v;n=V(u),u=(d=n)===null||d===void 0?void 0:d.host,s=!!((y=u)!==null&&y!==void 0&&(v=y.ownerDocument)!==null&&v!==void 0&&v.contains(u))}}return s},le=function(e){var t=e.getBoundingClientRect(),n=t.width,u=t.height;return n===0&&u===0},Ze=function(e,t){var n=t.displayCheck,u=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=C.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(C.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof u=="function"){for(var f=e;e;){var l=e.parentElement,d=V(e);if(l&&!l.shadowRoot&&u(l)===!0)return le(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=f}if(He(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return le(e);return!1},Qe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var u=t.children.item(n);if(u.tagName==="LEGEND")return C.call(t,"fieldset[disabled] *")?!0:!u.contains(e)}return!0}t=t.parentElement}return!1},X=function(e,t){return!(t.disabled||W(t)||Ge(t)||Ze(t,e)||Ve(t)||Qe(t))},_=function(e,t){return!(ze(t)||A(t)<0||!X(e,t))},Je=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},_e=function r(e){var t=[],n=[];return e.forEach(function(u,s){var a=!!u.scopeParent,f=a?u.scopeParent:u,l=$e(f,a),d=a?r(u.candidates):f;l===0?a?t.push.apply(t,d):t.push(f):n.push({documentOrder:s,tabIndex:l,item:u,isScope:a,content:d})}),n.sort(qe).reduce(function(u,s){return s.isScope?u.push.apply(u,s.content):u.push(s.content),u},[]).concat(t)},et=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Fe([e],t.includeContainer,{filter:_.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Je}):n=Ee(e,t.includeContainer,_.bind(null,t)),_e(n)},tt=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Fe([e],t.includeContainer,{filter:X.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=Ee(e,t.includeContainer,X.bind(null,t)),n},x=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return C.call(e,G)===!1?!1:_(t,e)},rt=Te.concat("iframe").join(","),J=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return C.call(e,rt)===!1?!1:X(t,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function fe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function de(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fe(Object(t),!0).forEach(function(n){nt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function nt(r,e,t){return e=it(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function at(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function it(r){var e=at(r,"string");return typeof e=="symbol"?e:String(e)}var ve={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var u=e.indexOf(t);u===-1||e.splice(u,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},ot=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ut=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},j=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},st=function(e){return j(e)&&!e.shiftKey},ct=function(e){return j(e)&&e.shiftKey},be=function(e){return setTimeout(e,0)},pe=function(e,t){var n=-1;return e.every(function(u,s){return t(u)?(n=s,!1):!0}),n},K=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return typeof e=="function"?e.apply(void 0,n):e},U=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},lt=[],ft=function(e,t){var n=(t==null?void 0:t.document)||document,u=(t==null?void 0:t.trapStack)||lt,s=de({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:st,isKeyBackward:ct},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,l=function(o,i,c){return o&&o[i]!==void 0?o[i]:s[c||i]},d=function(o,i){var c=typeof(i==null?void 0:i.composedPath)=="function"?i.composedPath():void 0;return a.containerGroups.findIndex(function(b){var p=b.container,g=b.tabbableNodes;return p.contains(o)||(c==null?void 0:c.includes(p))||g.find(function(N){return N===o})})},y=function(o){var i=s[o];if(typeof i=="function"){for(var c=arguments.length,b=new Array(c>1?c-1:0),p=1;p<c;p++)b[p-1]=arguments[p];i=i.apply(void 0,b)}if(i===!0&&(i=void 0),!i){if(i===void 0||i===!1)return i;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var g=i;if(typeof i=="string"&&(g=n.querySelector(i),!g))throw new Error("`".concat(o,"` as selector refers to no known node"));return g},v=function(){var o=y("initialFocus");if(o===!1)return!1;if(o===void 0||!J(o,s.tabbableOptions))if(d(n.activeElement)>=0)o=n.activeElement;else{var i=a.tabbableGroups[0],c=i&&i.firstTabbableNode;o=c||y("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},w=function(){if(a.containerGroups=a.containers.map(function(o){var i=et(o,s.tabbableOptions),c=tt(o,s.tabbableOptions),b=i.length>0?i[0]:void 0,p=i.length>0?i[i.length-1]:void 0,g=c.find(function(F){return x(F)}),N=c.slice().reverse().find(function(F){return x(F)}),P=!!i.find(function(F){return A(F)>0});return{container:o,tabbableNodes:i,focusableNodes:c,posTabIndexesFound:P,firstTabbableNode:b,lastTabbableNode:p,firstDomTabbableNode:g,lastDomTabbableNode:N,nextTabbableNode:function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=i.indexOf(R);return O<0?M?c.slice(c.indexOf(R)+1).find(function(B){return x(B)}):c.slice(0,c.indexOf(R)).reverse().find(function(B){return x(B)}):i[O+(M?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!y("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(o){return o.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},E=function m(o){var i=o.activeElement;if(i)return i.shadowRoot&&i.shadowRoot.activeElement!==null?m(i.shadowRoot):i},h=function m(o){if(o!==!1&&o!==E(document)){if(!o||!o.focus){m(v());return}o.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=o,ot(o)&&o.select()}},T=function(o){var i=y("setReturnFocus",o);return i||(i===!1?!1:o)},S=function(o){var i=o.target,c=o.event,b=o.isBackward,p=b===void 0?!1:b;i=i||U(c),w();var g=null;if(a.tabbableGroups.length>0){var N=d(i,c),P=N>=0?a.containerGroups[N]:void 0;if(N<0)p?g=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:g=a.tabbableGroups[0].firstTabbableNode;else if(p){var F=pe(a.tabbableGroups,function(H){var Z=H.firstTabbableNode;return i===Z});if(F<0&&(P.container===i||J(i,s.tabbableOptions)&&!x(i,s.tabbableOptions)&&!P.nextTabbableNode(i,!1))&&(F=N),F>=0){var R=F===0?a.tabbableGroups.length-1:F-1,M=a.tabbableGroups[R];g=A(i)>=0?M.lastTabbableNode:M.lastDomTabbableNode}else j(c)||(g=P.nextTabbableNode(i,!1))}else{var O=pe(a.tabbableGroups,function(H){var Z=H.lastTabbableNode;return i===Z});if(O<0&&(P.container===i||J(i,s.tabbableOptions)&&!x(i,s.tabbableOptions)&&!P.nextTabbableNode(i))&&(O=N),O>=0){var B=O===a.tabbableGroups.length-1?0:O+1,ie=a.tabbableGroups[B];g=A(i)>=0?ie.firstTabbableNode:ie.firstDomTabbableNode}else j(c)||(g=P.nextTabbableNode(i))}}else g=y("fallbackFocus");return g},D=function(o){var i=U(o);if(!(d(i,o)>=0)){if(K(s.clickOutsideDeactivates,o)){f.deactivate({returnFocus:s.returnFocusOnDeactivate});return}K(s.allowOutsideClick,o)||o.preventDefault()}},I=function(o){var i=U(o),c=d(i,o)>=0;if(c||i instanceof Document)c&&(a.mostRecentlyFocusedNode=i);else{o.stopImmediatePropagation();var b,p=!0;if(a.mostRecentlyFocusedNode)if(A(a.mostRecentlyFocusedNode)>0){var g=d(a.mostRecentlyFocusedNode),N=a.containerGroups[g].tabbableNodes;if(N.length>0){var P=N.findIndex(function(F){return F===a.mostRecentlyFocusedNode});P>=0&&(s.isKeyForward(a.recentNavEvent)?P+1<N.length&&(b=N[P+1],p=!1):P-1>=0&&(b=N[P-1],p=!1))}}else a.containerGroups.some(function(F){return F.tabbableNodes.some(function(R){return A(R)>0})})||(p=!1);else p=!1;p&&(b=S({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),h(b||a.mostRecentlyFocusedNode||v())}a.recentNavEvent=void 0},Ie=function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=o;var c=S({event:o,isBackward:i});c&&(j(o)&&o.preventDefault(),h(c))},te=function(o){if(ut(o)&&K(s.escapeDeactivates,o)!==!1){o.preventDefault(),f.deactivate();return}(s.isKeyForward(o)||s.isKeyBackward(o))&&Ie(o,s.isKeyBackward(o))},re=function(o){var i=U(o);d(i,o)>=0||K(s.clickOutsideDeactivates,o)||K(s.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},ne=function(){if(a.active)return ve.activateTrap(u,f),a.delayInitialFocusTimer=s.delayInitialFocus?be(function(){h(v())}):h(v()),n.addEventListener("focusin",I,!0),n.addEventListener("mousedown",D,{capture:!0,passive:!1}),n.addEventListener("touchstart",D,{capture:!0,passive:!1}),n.addEventListener("click",re,{capture:!0,passive:!1}),n.addEventListener("keydown",te,{capture:!0,passive:!1}),f},ae=function(){if(a.active)return n.removeEventListener("focusin",I,!0),n.removeEventListener("mousedown",D,!0),n.removeEventListener("touchstart",D,!0),n.removeEventListener("click",re,!0),n.removeEventListener("keydown",te,!0),f},Oe=function(o){var i=o.some(function(c){var b=Array.from(c.removedNodes);return b.some(function(p){return p===a.mostRecentlyFocusedNode})});i&&h(v())},z=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Oe):void 0,L=function(){z&&(z.disconnect(),a.active&&!a.paused&&a.containers.map(function(o){z.observe(o,{subtree:!0,childList:!0})}))};return f={get active(){return a.active},get paused(){return a.paused},activate:function(o){if(a.active)return this;var i=l(o,"onActivate"),c=l(o,"onPostActivate"),b=l(o,"checkCanFocusTrap");b||w(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,i==null||i();var p=function(){b&&w(),ne(),L(),c==null||c()};return b?(b(a.containers.concat()).then(p,p),this):(p(),this)},deactivate:function(o){if(!a.active)return this;var i=de({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},o);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,ae(),a.active=!1,a.paused=!1,L(),ve.deactivateTrap(u,f);var c=l(i,"onDeactivate"),b=l(i,"onPostDeactivate"),p=l(i,"checkCanReturnFocus"),g=l(i,"returnFocus","returnFocusOnDeactivate");c==null||c();var N=function(){be(function(){g&&h(T(a.nodeFocusedBeforeActivation)),b==null||b()})};return g&&p?(p(T(a.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(o){if(a.paused||!a.active)return this;var i=l(o,"onPause"),c=l(o,"onPostPause");return a.paused=!0,i==null||i(),ae(),L(),c==null||c(),this},unpause:function(o){if(!a.paused||!a.active)return this;var i=l(o,"onUnpause"),c=l(o,"onPostUnpause");return a.paused=!1,i==null||i(),w(),ne(),L(),c==null||c(),this},updateContainerElements:function(o){var i=[].concat(o).filter(Boolean);return a.containers=i.map(function(c){return typeof c=="string"?n.querySelector(c):c}),a.active&&w(),L(),this}},f.updateContainerElements(e),f};function Tt(r={}){let e;const{immediate:t,...n}=r,u=se(!1),s=se(!1),a=v=>e==null?void 0:e.activate(v),f=v=>{e==null||e.deactivate(v)},l=()=>{e&&(e.pause(),s.set(!0))},d=()=>{e&&(e.unpause(),s.set(!1))};return{useFocusTrap:v=>(e=ft(v,{...n,onActivate(){var w;u.set(!0),(w=r.onActivate)==null||w.call(r)},onDeactivate(){var w;u.set(!1),(w=r.onDeactivate)==null||w.call(r)}}),t&&a(),{destroy(){f(),e=void 0}}),hasFocus:ue(u),isPaused:ue(s),activate:a,deactivate:f,pause:l,unpause:d}}const $=[];function Nt(r,e){let t=Y;function n(){const s=$.indexOf(r);s>=0&&$.splice(s,1)}function u(s){t();const{open:a,onClose:f,shouldCloseOnInteractOutside:l,closeOnInteractOutside:d}=s;ye(100).then(()=>{a?$.push(r):n()});function y(){return Ae($)===r}function v(){y()&&f&&(f(),n())}function w(h){const T=h.target;ee(T)&&T&&y()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function E(h){l!=null&&l(h)&&y()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),v())}t=dt(r,{onInteractOutsideStart:w,onInteractOutside:d?E:void 0,enabled:a}).destroy}return u(e),{update:u,destroy(){n(),t()}}}const Et=(r,e="body")=>{let t;if(!q(e)&&typeof e!="string")return{destroy:Y};async function n(s){if(e=s,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await me(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);r.dataset.portal="",t.appendChild(r),r.hidden=!1}function u(){r.remove()}return n(e),{update:n,destroy:u}};function dt(r,e){let t=Y,n=!1,u=!1,s=!1;function a(d){t();const{onInteractOutside:y,onInteractOutsideStart:v,enabled:w}=d;if(!w)return;function E(S){y&&he(S,r)&&(v==null||v(S));const D=S.target;ee(D)&&De(r,D)&&(u=!0),n=!0}function h(S){y==null||y(S)}const T=vt(r);if(typeof PointerEvent<"u"){const S=D=>{f(D)&&h(D),l()};t=oe(k(T,"pointerdown",E,!0),k(T,"pointerup",S,!0))}else{const S=I=>{s?s=!1:f(I)&&h(I),l()},D=I=>{s=!0,f(I)&&h(I),l()};t=oe(k(T,"mousedown",E,!0),k(T,"mouseup",S,!0),k(T,"touchstart",E,!0),k(T,"touchend",D,!0))}}function f(d){return!!(n&&!u&&he(d,r))}function l(){n=!1,u=!1}return a(e),{update:a,destroy:t}}function he(r,e){if("button"in r&&r.button>0)return!1;const t=r.target;if(!ee(t))return!1;const n=t.ownerDocument;return!n||!n.documentElement.contains(t)?!1:e&&!De(e,t)}function De(r,e){return r===e||r.contains(e)}function vt(r){return(r==null?void 0:r.ownerDocument)??document}export{Nt as a,Tt as c,gt as g,wt as h,yt as r,ye as s,Et as u,mt as w};
